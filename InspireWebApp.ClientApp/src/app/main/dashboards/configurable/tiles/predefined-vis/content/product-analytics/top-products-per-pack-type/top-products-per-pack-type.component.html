<!-- TODO: remove row separator after the final row -->
<p-table [value]="data"
         [scrollable]="true" scrollHeight="flex"
         [tableStyle]="{'min-width': '50rem'}"
         sortField="productPackType" [sortOrder]="-1"
         rowGroupMode="subheader"
         groupRowsBy="productPackType" >

  <ng-template pTemplate="groupheader" let-product let-rowIndex="rowIndex" let-expanded="expanded">
    <tr>
      <td colspan="5">
        <b>{{product.productPackType}}</b>
      </td>
    </tr>
  </ng-template>

  <ng-template pTemplate="header">

    <tr>

      <th pSortableColumn="productPackType">
        Product Pack Type
        <p-sortIcon field="productPackType"></p-sortIcon>
      </th>

      <th pSortableColumn="rank">
        Rank
        <p-sortIcon field="rank"></p-sortIcon>
      </th>

      <th pSortableColumn="productName">
        Product Name
        <p-sortIcon field="productName"></p-sortIcon>
      </th>

      <th pSortableColumn="value">
        Monetary Value
        <p-sortIcon field="value"></p-sortIcon>
      </th>

      <th pSortableColumn="contribution">
        Contribution
        <p-sortIcon field="contribution"></p-sortIcon>
      </th>

    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-row [appWitnessIterable]="data">
    <tr>
      <td></td>
      <td>{{ row.rank }}</td>
      <td>{{ row.productName }}</td>
      <td>{{ row.value}}</td>
      <td>{{ row.contribution}}%</td>
    </tr>
  </ng-template>
</p-table>
